<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
<title>The Tooling | nschulzke</title>



<meta property="og:title" content="The Tooling">



<meta name="author" content="Nathan Schulzke">


<meta property="og:locale" content="en-US">


<meta name="description" content="Explorations in language.">
<meta property="og:description" content="Explorations in language.">



<link rel="canonical" href="https://nschulzke.com/22-09-01-the-tooling/">
<meta property="og:url" content="https://nschulzke.com/22-09-01-the-tooling/">



<meta property="og:site_name" content="nschulzke" />





  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2022-09-01T20:46:25-06:00">







  <meta name="twitter:card" content="summary">



  <meta property="twitter:title" content="The Tooling">








<script type="application/ld+json">
{
  "author": {
    "@type":"Person",
	  "name":"Nathan Schulzke",
  },
  "description": "Explorations in language.",
  "url": "https://nschulzke.com/22-09-01-the-tooling/",
  "@context":"https://schema.org",
  "@type": "BlogPosting",
  "headline": "The Tooling"
  
    
    
      "datePublished":"2022-09-01T20:46:25-06:00",
    
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://nschulzke.com/22-09-01-the-tooling/"
    },
  
}
</script>

  <link rel="stylesheet" href="https://nschulzke.com/main.css">
  <link rel="stylesheet" href="https://nschulzke.com/custom.css">

  
    <link type="application/atom+xml" rel="alternate" href="https://nschulzke.com/atom.xml" title="nschulzke" />
  

  

  
  
</head>

<body>
  
  <nav class="nav">
    <div class="nav-container">
      <a href="https://nschulzke.com">
        <h2 class="nav-title">nschulzke</h2>
      </a>
      <ul>
        
          
            <li><a href="https://nschulzke.com">Home</a></li>
          
            <li><a href="https://nschulzke.com/tags">Tags</a></li>
          
        
        <li>
          <a href="/atom.xml" class="feed-icon" area-label="atom feed">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16">
              <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
              <path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/>
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  

  <main>
    
  <div class="post">
  	<div class="post-info">
  		<span>Written by</span> Nathan Schulzke<br>
  		<span>on&nbsp;</span><time datetime="2022-09-01T20:46:25-06:00">September  1, 2022</time>
  	</div>
  	<h1 class="post-title">The Tooling</h1>
  	<div class="post-line"></div>
  	<p>In this post I'm going to get set up with the playground tooling I'll use to showcase the languages I discuss here. The goal is to have something similar to a Jupyter notebook: a series of executable text-editor fields that share an environment.</p>
<span id="continue-reading"></span>
<p>For this example, I'll be using a simple custom lisp. The details of the language aren't important for this post, but <a href="https://github.com/nschulzke/lisp">you can find the repo here</a>.</p>
<script type="module">
    import init, {evaluate} from "/languages/tiny-lisp-0.1/lisp.js";
    init()
    
    document.addEventListener("DOMContentLoaded", function() {
        document.querySelectorAll(".lisp-playground").forEach(el => {
            const input = el.querySelector(".input");
            const output = el.querySelector(".output");
            const status = el.querySelector(".status");
            
            el.addEventListener("submit", function submit(e) {
                e.preventDefault();
                try {
                    const result = evaluate(input.innerText);
                    output.innerText = result;
                    output.classList.remove("error");
                    status.classList.add("success");
                    status.classList.remove("failure");
                } catch (e) {
                    output.innerText = e;
                    output.classList.add("error");
                    status.classList.remove("success");
                    status.classList.add("failure");
                }
            });

            input.addEventListener("input", function() {
                status.classList.remove("success");
                status.classList.remove("failure");
            });
        });
    });
</script>
<p>Here is a playground:</p>
<form class="lisp-playground playground">
    <div class="split-view">
        <div class="input" contenteditable>(progn
  (def a 1)
  (+ a 1))</div>
        <div class="output">
        </div>
    </div>
    <div class="controls">
        <button type="submit">
            Play
            <div class="play"></div>
        </button>
        <div class="status">
            <div class="success-icon">✔</div>
            <div class="failure-icon">✘</div>
        </div>
    </div>
</form>
<p>All playgrounds for the same language in the same file share the same environment, so you can use defines from one in the others (after they've been run).</p>
<form class="lisp-playground playground">
    <div class="split-view">
        <div class="input" contenteditable>(+ a 2)</div>
        <div class="output">
        </div>
    </div>
    <div class="controls">
        <button type="submit">
            Play
            <div class="play"></div>
        </button>
        <div class="status">
            <div class="success-icon">✔</div>
            <div class="failure-icon">✘</div>
        </div>
    </div>
</form>
<p>For normal results, the playground will show the result and give a green check to indicate the listing has been run. If there's an error, the playground will show the error in red and have an X:</p>
<form class="lisp-playground playground">
    <div class="split-view">
        <div class="input" contenteditable>(+ b 2)</div>
        <div class="output">
        </div>
    </div>
    <div class="controls">
        <button type="submit">
            Play
            <div class="play"></div>
        </button>
        <div class="status">
            <div class="success-icon">✔</div>
            <div class="failure-icon">✘</div>
        </div>
    </div>
</form>
<p>Typing in any field will clear the status. Refreshing the page will reset the environment.</p>

  </div>

	

  <div class="pagination">
  	
		<a href="#" class="top">Top</a>
		
  </div>

  </main>

  
  <footer>
    <span>&copy; 2022 Nathan Schulzke. Made with <a href="https://www.getzola.org">Zola</a> using the <a
          href="https://github.com/aaranxu/tale-zola">Tale-Zola</a> theme.</span>
  </footer>
  
  <script>
    // Copied from https://github.com/getzola/zola/issues/1070#issuecomment-1166637092
    // The DOMContentLoaded event fires when the initial HTML
    // document has been completely loaded and parsed, without
    // waiting for stylesheets, images, and subframes to finish loading.
    document.addEventListener('DOMContentLoaded', (_event) => {
      const references = document.getElementsByClassName('footnote-reference')
      // For each footnote reference, set an id so we can refer to it from the definition.
      // If the definition had an id of 'some_id', then the reference has id `some_id_ref`.
      for (const reference of references) {
        const link = reference.firstChild
        const id = link.getAttribute('href').slice(1) // skip the '#'
        link.setAttribute('id', `${id}_ref`)
      }

      const footnotes = document.getElementsByClassName('footnote-definition')
      // For each footnote-definition, add an anchor element with an href to its corresponding reference.
      // The text used for the added anchor is 'Leftwards Arrow with Hook' (U+21A9).
      for (const footnote of footnotes) {
        const id = footnote.getAttribute('id')
        const backReference = document.createElement('a')
        backReference.setAttribute('href', `#${id}_ref`)
        backReference.classList.add('footnote-back')
        backReference.textContent = '↩'
        footnote.append(backReference)
      }
    });
  </script>
</body>
</html>
